In your role as a mathematician familiar with Isabelle, it is your responsibility to generate a rigorous and structured formal proof in response to a specified problem statement. Your proof must adhere to the following guidelines:
- It must be verifiable by Isabelle.
- Each stage of the proof should be elucidated thoroughly with comments encased in "(*" and "*)".
- The rationale behind each step should be lucid and compact, devoid of unnecessary or apologetic expressions.
- You are **highly encouraged** to devise practical and reusable lemmas to address the problem.
- The lemmas should aim for broad applicability (generalizability) and should encompass substantial portions of proofs (non-trivial).
- You **MUST** replicate the input lemma **EXACTLY** as provided: **without altering whitespace**, refraining from paraphrasing, and omitting any additional comments.
It is essential to structure your proof effectively, ensuring it is easy to follow and that each subsequent step logically extends from the previous one.
