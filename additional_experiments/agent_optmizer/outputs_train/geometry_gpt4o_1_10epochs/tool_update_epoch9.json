[
  {
    "action": "add",
    "target": {
      "code": "import math\n\ndef calculate_code_properties(shape, dimensions):\n    if shape == 'cone':\n        radius = dimensions.get('radius', 0)\n        height = dimensions.get('height', 0)\n        slant_height = math.sqrt(radius**2 + height**2)\n        volume = (1/3) * math.pi * radius**2 * height\n        surface_area = math.pi * radius * (radius + slant_height)\n    elif shape == 'sphere':\n        radius = dimensions.get('radius', 0)\n        volume = (4/3) * math.pi * radius**3\n        surface_area = 4 * math.pi * radius**2\n    elif shape == 'cylinder':\n        radius = dimensions.get('radius', 0)\n        height = dimensions.get('height', 0)\n        volume = math.pi * radius**2 * height\n        surface_area = 2 * math.pi * radius * (radius + height)\n    else:\n        return {\"error\": \"Shape not recognized\"}\n\n    return {\n        \"volume\": volume,\n        \"surface_area\": surface_area\n    }",
      "description": "Calculate the volume and surface area of a geometric shape given its dimensions.",
      "name": "calculate_code_properties",
      "packages": "math"
    }
  },
  {
    "action": "add",
    "target": {
      "code": "from sympy import symbols, Eq, solve, sqrt, pi, Rational, simplify, evalf, sympify\n\ndef evaluate_math_problem(problem_statement):\n    try:\n        # Supported variables\n        x, y, z = symbols('x y z')\n        # Safely parse the expression\n        expr = sympify(problem_statement)\n        # If it's an equation like expression solve for variables if possible\n        if isinstance(expr, Eq):\n            solution = solve(expr)\n        else:\n            solution = expr.evalf()\n        return solution\n    except Exception as e:\n        return str(e)",
      "description": "Evaluate and solve mathematical expressions or problems using sympy for symbolic computation.",
      "name": "evaluate_math_problem",
      "packages": "sympy"
    }
  },
  {
    "action": "add",
    "target": {
      "code": "from sympy import symbols, Eq, solve, sympify\n\ndef solve_task_with_sympy(equations, variables):\n    try:\n        # Declare the variables\n        var_symbols = symbols(variables)\n        # Check if the equation contains '=' for any equality\n        eq_objects = []\n        for eq in equations:\n            if '=' in eq:\n                lhs, rhs = eq.split('=')\n                eq_objects.append(Eq(sympify(lhs), sympify(rhs)))\n            else:\n                eq_objects.append(sympify(eq))\n        # Solve the equations\n        solutions = solve(eq_objects, var_symbols)\n        return solutions\n    except Exception as e:\n        return str(e)",
      "description": "Solve mathematical tasks using sympy for symbolic computation, given equations and variables to solve for.",
      "name": "solve_task_with_sympy",
      "packages": "sympy"
    }
  },
  {
    "action": "add",
    "target": {
      "code": "from sympy import pi\n\ndef calculate_volume_of_sphere(radius):\n    try:\n        volume = (4/3) * pi * radius**3\n        return volume\n    except Exception as e:\n        return str(e)",
      "description": "Calculate the volume of a sphere given its radius.",
      "name": "calculate_volume_of_sphere",
      "packages": "sympy"
    }
  }
]