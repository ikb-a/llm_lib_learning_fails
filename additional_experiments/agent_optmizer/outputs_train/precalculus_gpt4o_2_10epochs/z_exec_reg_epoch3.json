{
  "transform_and_solve": {
    "code": "import sympy as sp\nimport numpy as np\n\ndef transform_and_solve(problem_code):\n    # Define a safe dictionary for globals\n    exec_globals = {\n        '__builtins__': None,\n        'sqrt': sp.sqrt,\n        'pi': sp.pi,\n        'acos': sp.acos,\n        'asin': sp.asin,\n        'atan2': sp.atan2,\n        'sin': sp.sin,\n        'cos': sp.cos,\n        'tan': sp.tan,\n        'Rational': sp.Rational,\n        'Matrix': sp.Matrix,\n        'symbols': sp.symbols,\n        'solve': sp.solve,\n        'Eq': sp.Eq,\n        'sympify': sp.sympify,\n        'simplify': sp.simplify,\n        'rad': sp.rad,\n        'deg': sp.deg,\n        'nsimplify': sp.nsimplify,\n        'summation': sp.summation,\n        '__globals__': globals()  # Include globals for potential issues in scope\n    }\n    exec_locals = {}\n    try:\n        exec(problem_code, exec_globals, exec_locals)\n        result = exec_locals.get('result', 'No result found')\n        if isinstance(result, sp.Basic):  # Check if it's a SymPy expression\n            return sp.nsimplify(result)\n        return result\n    except TypeError as e:\n        return f\"Type Error: {e}\"\n    except ValueError as e:\n        return f\"Value Error: {e}\"\n    except SyntaxError as e:\n        return f\"Syntax Error: {e}\"\n    except sp.SympifyError as e:\n        return f\"SymPy Error: {e}\"\n    except Exception as e:\n        return f\"Unexpected Error: {e}\"",
    "packages": "sympy, numpy"
  }
}