[
  {
    "action": "add",
    "target": {
      "code": "from sympy import sympify, SympifyError\n\ndef evaluate_expression(expression):\n    try:\n        result = sympify(expression)\n        if result.is_number:\n            result = float(result)\n        else:\n            result = str(result)\n        return result\n    except SympifyError as e:\n        return str(e)",
      "description": "Evaluate arithmetic or mathematical expressions provided as strings.",
      "name": "evaluate_expression",
      "packages": "sympy"
    }
  },
  {
    "action": "add",
    "target": {
      "code": "from sympy import symbols, Eq, solve, sympify, sin, cos, tan, simplify, cancel, SympifyError\n\ndef evaluate_trigonometric(expression, variable_values={}):\n    try:\n        # Split expressions if they are separated by commas or semicolons\n        expr_list = [e.strip() for part in expression.split(',') for e in part.split(';')]\n        solutions = []\n        for expr in expr_list:\n            try:\n                parsed_expr = sympify(expr, evaluate=False)\n                parsed_expr = parsed_expr.rewrite(sin).rewrite(cos).rewrite(tan)\n                parsed_expr = simplify(cancel(parsed_expr))\n                if isinstance(parsed_expr, Eq):\n                    solutions.append(solve(parsed_expr, dict=True))\n                elif variable_values:\n                    parsed_expr = parsed_expr.subs(variable_values)\n                    solutions.append(parsed_expr)\n                else:\n                    solutions.append(parsed_expr)\n            except SympifyError as se:\n                solutions.append({'error': f'Sympify error: {str(se)}'})\n            except Exception as e:\n                solutions.append({'error': str(e)})\n        return solutions\n    except Exception as outer_error:\n        return {'error': str(outer_error)}",
      "description": "Evaluate trigonometric expressions and solve trigonometric equations provided as strings which can contain multiple expressions separated by commas or semicolons.",
      "name": "evaluate_trigonometric",
      "packages": "sympy"
    }
  },
  {
    "action": "add",
    "target": {
      "code": "from sympy import symbols, Eq, solve, sympify, SympifyError, simplify, cancel\n\ndef evaluate_algebra(expression, variable_values={}):\n    try:\n        # Normalize the expression, handling typical grammar issues\n        expression = expression.replace('=', '==').replace(';', ',')\n        # Split expressions if they are separated by commas\n        exprs = expression.split(',')\n\n        # Initialize a list to store parsed expressions\n        parsed_exprs = []\n\n        # Parse each expression\n        for expr in exprs:\n            expr = expr.strip()\n            try:\n                parsed_expr = sympify(expr, locals=variable_values, evaluate=False)\n                parsed_exprs.append(parsed_expr)\n            except SympifyError as e:\n                return {'error': f'Failed to sympify expression: {expr}. Error: {str(e)}'}\n\n        # Initialize a list to store solutions\n        solutions = []\n\n        # Solve each parsed expression\n        for parsed_expr in parsed_exprs:\n            # Simplify the expression\n            simplified_expr = simplify(cancel(parsed_expr))\n            if isinstance(simplified_expr, Eq):\n                solutions.extend(solve(simplified_expr, dict=True))\n            elif variable_values:\n                simplified_expr = simplified_expr.subs(variable_values)\n                solutions.append(simplified_expr)\n            else:\n                solutions.append(simplified_expr)\n\n        return solutions\n    except Exception as error:\n        # Return any error that occurs during the overall processing\n        return {'error': str(error)}",
      "description": "Evaluate and solve algebraic expressions and equations provided as strings which can contain multiple expressions separated by commas or semicolons. It includes careful parsing and handling of equations.",
      "name": "evaluate_algebra",
      "packages": "sympy"
    }
  }
]