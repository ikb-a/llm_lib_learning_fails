[
  {
    "action": "add",
    "target": {
      "code": "from sympy import sympify, SympifyError\n\ndef evaluate_expression(expression):\n    try:\n        result = sympify(expression)\n        if result.is_number:\n            result = float(result)\n        else:\n            result = str(result)\n        return result\n    except SympifyError as e:\n        return str(e)",
      "description": "Evaluate arithmetic or mathematical expressions provided as strings.",
      "name": "evaluate_expression",
      "packages": "sympy"
    }
  },
  {
    "action": "add",
    "target": {
      "code": "from sympy import symbols, solve, sympify, sin, cos, tan, simplify, cancel, Eq, SympifyError, parse_expr\n\ndef evaluate_trigonometric(expression, variable_values={}):\n    try:\n        # Split expressions if they are separated by commas or semicolons\n        expr_list = [e.strip() for part in expression.split(',') for e in part.split(';')]\n        solutions = []\n        for expr in expr_list:\n            try:\n                parsed_expr = sympify(expr, evaluate=False)\n                parsed_expr = parsed_expr.rewrite(sin).rewrite(cos).rewrite(tan)\n                parsed_expr = simplify(cancel(parsed_expr))\n                if isinstance(parsed_expr, Eq):\n                    solutions.append(solve(parsed_expr, dict=True))\n                elif variable_values:\n                    parsed_expr = parsed_expr.subs(variable_values)\n                    solutions.append(parsed_expr)\n                else:\n                    solutions.append(parsed_expr)\n            except SympifyError as se:\n                solutions.append({'error': f'Sympify error: {str(se)}'})\n            except Exception as e:\n                solutions.append({'error': str(e)})\n        return solutions\n    except Exception as outer_error:\n        return {'error': str(outer_error)}",
      "description": "Evaluate trigonometric expressions and solve trigonometric equations provided as strings which can contain multiple expressions separated by commas or semicolons. This version includes improved parsing and specific exception handling.",
      "name": "evaluate_trigonometric",
      "packages": "sympy"
    }
  },
  {
    "action": "add",
    "target": {
      "code": "from sympy import symbols, Eq, solve, sympify, SympifyError, simplify, cancel\n\ndef evaluate_algebra(expression, variable_values={}):\n    try:\n        # Normalize and split the expression into individual parts safely\n        expression = expression.replace(';', ',')  # Normalize delimiters\n        exprs = [e.strip() for e in expression.split(',') if e.strip()]\n\n        # Initialize a list to store the solutions\n        solutions = []\n\n        for expr in exprs:\n            try:\n                # Parse the expression using sympy\n                sym_expr = sympify(expr, locals=variable_values, evaluate=False)\n\n                # If the expression is an equation, solve it\n                if isinstance(sym_expr, Eq) or '=' in expr:\n                    # Split into LHS and RHS and solve\n                    lhs, rhs = map(sym_expr.as_two_terms)\n                    equation = Eq(lhs, rhs)\n                    solutions.append(solve(equation, dict=True))\n                else:\n                    # Substitute variable values if available\n                    if variable_values:\n                        sym_expr = sym_expr.subs(variable_values)\n                    # Simplify the expression\n                    solutions.append(simplify(cancel(sym_expr)))\n\n            except SympifyError as e:\n                solutions.append({'error': f'Sympify error: {str(e)}'})\n            except Exception as error:\n                solutions.append({'error': str(error)})\n\n        return solutions\n    except Exception as outer_error:\n        return {'error': str(outer_error)}",
      "description": "Evaluate and solve algebraic expressions and equations provided as strings which can contain multiple expressions separated by commas or semicolons. Supports improved parsing and equation solving with enhanced error handling.",
      "name": "evaluate_algebra",
      "packages": "sympy"
    }
  }
]