[
  {
    "action": "add",
    "target": {
      "code": "from sympy import sympify, SympifyError\n\ndef evaluate_expression(expression):\n    try:\n        result = sympify(expression)\n        if result.is_number:\n            result = float(result)\n        else:\n            result = str(result)\n        return result\n    except SympifyError as e:\n        return str(e)",
      "description": "Evaluate arithmetic or mathematical expressions provided as strings.",
      "name": "evaluate_expression",
      "packages": "sympy"
    }
  },
  {
    "action": "add",
    "target": {
      "code": "from sympy import symbols, solve, sympify, sin, cos, tan, simplify, cancel, Eq, SympifyError\n\ndef evaluate_trigonometric(expression, variable_values={}):\n    try:\n        # Split expressions if they are separated by commas or semicolons\n        exprs = [sympify(e.strip(), evaluate=False) for e in expression.split(',')]\n        exprs = sum([e.split(';') if isinstance(e, str) else [e] for e in exprs], [])\n        solutions = []\n        for expr in exprs:\n            expr = expr.rewrite(sin).rewrite(cos).rewrite(tan)\n            expr = simplify(cancel(expr))\n            # Handle equations separately\n            if isinstance(expr, Eq):\n                solutions.append(solve(expr, dict=True))\n            elif variable_values:\n                expr = expr.subs(variable_values)\n                solutions.append(expr)\n            else:\n                solutions.append(expr)\n        return solutions\n    except SympifyError as se:\n        return {'error': str(se)}\n    except Exception as e:\n        return {'error': str(e)}",
      "description": "Evaluate trigonometric expressions and solve trigonometric equations provided as strings which can contain multiple expressions separated by commas or semicolons.",
      "name": "evaluate_trigonometric",
      "packages": "sympy"
    }
  },
  {
    "action": "add",
    "target": {
      "code": "from sympy import symbols, Eq, solve, sympify, SympifyError, simplify, cancel\n\ndef evaluate_algebra(expression, variable_values={}):\n    try:\n        # Normalize and parse the expression into individual parts safely\n        expressions = expression.replace('=', '==').replace(';', ',').split(',')\n\n        exprs = []\n        for expr in expressions:\n            expr = expr.strip()\n            if expr:  # Avoid any empty entries\n                try:\n                    exprs.append(sympify(expr, locals=variable_values, evaluate=False))\n                except SympifyError:\n                    return {'error': f'Failed to sympify expression: {expr}'}\n\n        solutions = []\n        for expr in exprs:\n            expr = simplify(cancel(expr))  # Simplify the expression\n            if isinstance(expr, Eq):\n                solutions.append(solve(expr, dict=True))\n            elif variable_values:\n                expr = expr.subs(variable_values)\n                solutions.append(expr)\n            else:\n                solutions.append(expr)\n\n        return solutions\n    except Exception as error:\n        return {'error': str(error)}",
      "description": "Evaluate and solve algebraic expressions and equations provided as strings which can contain multiple expressions separated by commas or semicolons. It includes careful parsing and handling of equations.",
      "name": "evaluate_algebra",
      "packages": "sympy"
    }
  }
]