{
  "calculate_expected_rolls": {
    "code": "from sympy import Rational\n\ndef calculate_expected_rolls(days):\n    prob_prime = Rational(3, 6)  # Prime: 2, 3, 5\n    prob_composite = Rational(2, 6)  # Composite: 4, 6\n    prob_one = Rational(1, 6)  # 1\n\n    # Expected rolls in a day\n    expected_rolls_day = Rational(1, 1 - prob_one)\n    # Total expected rolls over days\n    return days * expected_rolls_day",
    "packages": "sympy"
  },
  "calculate_probability": {
    "code": "from sympy import Rational\n\ndef calculate_probability(favorable_outcomes, total_outcomes):\n    if total_outcomes == 0:\n        return 0\n    return Rational(favorable_outcomes, total_outcomes).limit_denominator()",
    "packages": "sympy"
  },
  "calculate_unique_permutations": {
    "code": "from sympy import factorial\n\ndef calculate_unique_permutations(total_items, item_counts):\n    denominator = 1\n    for count in item_counts.values():\n        denominator *= factorial(count)\n    return factorial(total_items) // denominator",
    "packages": "sympy"
  },
  "expected_number_of_rolls_v2": {
    "code": "from sympy import Rational\n\ndef expected_number_of_rolls_v2(days):\n    # Probability analysis for the die's outcome\n    prob_prime = Rational(3, 6)  # Prime: 2, 3, 5\n    prob_composite = Rational(2, 6)  # Composite: 4, 6\n    prob_one = Rational(1, 6)  # 1\n    expected_rolls_day = Rational(0)\n\n    # Expected rolls calculation considering re-rolls\n    expected_rolls_day += Rational(1, 1 - prob_one)  # Based on geometric series for the re-roll\n    return days * expected_rolls_day",
    "packages": "sympy"
  }
}